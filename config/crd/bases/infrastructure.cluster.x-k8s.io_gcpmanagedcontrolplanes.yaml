---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.11.3
  creationTimestamp: null
  name: gcpmanagedcontrolplanes.infrastructure.cluster.x-k8s.io
spec:
  group: infrastructure.cluster.x-k8s.io
  names:
    categories:
    - cluster-api
    kind: GCPManagedControlPlane
    listKind: GCPManagedControlPlaneList
    plural: gcpmanagedcontrolplanes
    shortNames:
    - gcpmcp
    singular: gcpmanagedcontrolplane
  scope: Namespaced
  versions:
  - additionalPrinterColumns:
    - description: Cluster to which this GCPManagedControlPlane belongs
      jsonPath: .metadata.labels.cluster\.x-k8s\.io/cluster-name
      name: Cluster
      type: string
    - description: Control plane is ready
      jsonPath: .status.ready
      name: Ready
      type: string
    - description: The current Kubernetes version
      jsonPath: .status.currentVersion
      name: CurrentVersion
      type: string
    - description: API Endpoint
      jsonPath: .spec.endpoint
      name: Endpoint
      priority: 1
      type: string
    name: v1beta1
    schema:
      openAPIV3Schema:
        description: GCPManagedControlPlane is the Schema for the gcpmanagedcontrolplanes
          API.
        properties:
          apiVersion:
            description: 'APIVersion defines the versioned schema of this representation
              of an object. Servers should convert recognized schemas to the latest
              internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
            type: string
          kind:
            description: 'Kind is a string value representing the REST resource this
              object represents. Servers may infer this from the endpoint the client
              submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
            type: string
          metadata:
            type: object
          spec:
            description: GCPManagedControlPlaneSpec defines the desired state of GCPManagedControlPlane.
            properties:
              addonsConfig:
                description: AddonsConfig defines the enabled Cluster Addons.
                properties:
                  GCEPersistentDiskCsiDriver:
                    description: GCEPersistentDiskCsiDriver whether the Compute Engine
                      PD CSI driver is enabled for this cluster.
                    type: boolean
                  GCPFileStoreCsiDriver:
                    description: GCPFileStoreCsiDriver whether the GCP Filestore CSI
                      driver is enabled for this cluster.
                    type: boolean
                  GKEBackup:
                    description: GKEBackup whether the Backup for GKE agent is enabled
                      for this cluster.
                    type: boolean
                  ImageStreaming:
                    description: ImageStreaming whether to use GCFS (Google Container
                      File System).
                    type: boolean
                  cloudRun:
                    description: CloudRun enable the Cloud Run addon, which allows  the
                      user to use a managed Knative service.
                    type: boolean
                  kalmConfig:
                    description: KalmConfig enable the KALM addon, which manages the
                      lifecycle of k8s applications.
                    type: boolean
                type: object
              clusterName:
                description: ClusterName allows you to specify the name of the GKE
                  cluster. If you don't specify a name then a default name will be
                  created based on the namespace and name of the managed control plane.
                type: string
              clusterNetwork:
                description: ClusterNetwork define the cluster network.
                properties:
                  authorizedNetwork:
                    description: AuthorizedNetwork provide an IP-based firewall that
                      controls access to the GKE control plane.
                    properties:
                      cidrBlocks:
                        description: CidrBlocks defines the CIDR block configuration.
                        properties:
                          cidrBlock:
                            additionalProperties:
                              type: string
                            description: CidrBlock is the list of CIDR blocks associated
                              with Authorized Network.
                            maxProperties: 10
                            type: object
                          name:
                            description: Name is the name of the CIDR Block.
                            type: string
                        type: object
                      enabled:
                        description: Enabled defines Whether enable authorized network
                          or not.
                        type: boolean
                    type: object
                  pod:
                    description: Pod defines the range of CIDRBlock list from where
                      it gets the IP address.
                    properties:
                      cidrBlock:
                        description: CidrBlock is where all pods in the cluster are
                          assigned an IP address from this range. Enter a range (in
                          CIDR notation) within a network range, a mask, or leave
                          this field blank to use a default range. This setting is
                          permanent.
                        type: string
                    type: object
                  privateCluster:
                    description: PrivateCluster defines the private cluster spec.
                    properties:
                      controlPlaneCidrBlock:
                        description: ControlPlaneCidrBlock is the IP range in CIDR
                          notation to use for the hosted master network. This range
                          must not overlap with any other ranges in use within the
                          cluster's network. Honored when enabled is true.
                        type: string
                      controlPlaneGlobalAccess:
                        description: ControlPlaneGlobalAccess is whenever master is
                          accessible globally or not. Honored when enabled is true.
                        type: boolean
                      controlPlanePrivateEndpoint:
                        description: ControlPlanePrivateEndpoint is whether the master's
                          internal IP address is used as the cluster endpoint. Honored
                          when enabled is true.
                        type: boolean
                      disableDefaultSNAT:
                        description: DisableDefaultSNAT is disables cluster default
                          sNAT rules. Honored when enabled is true.
                        type: boolean
                      enabled:
                        description: Enabled defines weather a cluster is private
                          or not. If disabled cluster network is public.
                        type: boolean
                    type: object
                  service:
                    description: Service defines the range of CIDRBlock list from
                      where it gets the IP address.
                    properties:
                      cidrBlock:
                        description: CidrBlock is where cluster services will be assigned
                          an IP address from this IP address range. Enter a range
                          (in CIDR notation) within a network range, a mask, or leave
                          this field blank to use a default range. This setting is
                          permanent.
                        type: string
                    type: object
                  useIPAliases:
                    description: UseIPAliases is whether alias IPs will be used for
                      pod IPs in the cluster. If false, routes will be used for pod
                      IPs in the cluster.
                    type: boolean
                type: object
              clusterSecurity:
                description: ClusterSecurity defines the cluster security.
                properties:
                  authenticatorGroupConfig:
                    description: AuthenticatorGroupConfig is RBAC security group for
                      use with Google security groups in Kubernetes RBAC.
                    properties:
                      securityGroups:
                        description: SecurityGroups is the name of the security group-of-groups
                          to be used.
                        type: string
                    type: object
                  enableLegacyAuthorization:
                    description: EnableLegacyAuthorization Whether the legacy (ABAC)
                      authorizer is enabled for this cluster.
                    type: boolean
                  issueClientCertificate:
                    description: IssueClientCertificate is weather to issue a client
                      certificate.
                    type: boolean
                  workloadIdentityConfig:
                    description: WorkloadIdentityConfig allows workloads in your GKE
                      clusters to impersonate Identity and Access Management (IAM)
                      service accounts to access Google Cloud services
                    properties:
                      workloadPool:
                        description: WorkloadPool is the workload pool to attach all
                          Kubernetes service accounts to Google Cloud services. Only
                          relevant when enabled is true
                        type: string
                    type: object
                type: object
              controlPlaneVersion:
                description: ControlPlaneVersion represents the control plane version
                  of the GKE cluster. If not specified, the default version currently
                  supported by GKE will be used.
                type: string
              defaultMaxPodsPerNode:
                description: DefaultMaXPodsPerNode is the maximum number of pods can
                  be run simultaneously on a Node, and only honored if Cluster is
                  created with IP Alias support.
                type: integer
              defaultNodeLocation:
                description: DefaultNodeLocation is the list of Google Compute Engine
                  zones in which the cluster's Node should be located.
                items:
                  type: string
                type: array
              description:
                description: Description describe the cluster.
                type: string
              enableAutopilot:
                description: EnableAutopilot indicates whether to enable autopilot
                  for this GKE cluster.
                type: boolean
              endpoint:
                description: Endpoint represents the endpoint used to communicate
                  with the control plane.
                properties:
                  host:
                    description: The hostname on which the API server is serving.
                    type: string
                  port:
                    description: The port on which the API server is serving.
                    format: int32
                    type: integer
                required:
                - host
                - port
                type: object
              location:
                description: Location represents the location (region or zone) in
                  which the GKE cluster will be created.
                type: string
              loggingConfig:
                description: LoggingConfig defines the logging on Cluster.
                properties:
                  enable:
                    description: Enable define whether enable logging to cluster or
                      not.
                    type: boolean
                  enableComponents:
                    description: EnableComponents select components to collect logs.
                      An empty set would disable all logging. The system logs are
                      minimum required component for enabling log collections. Only
                      honored when enabled=true.
                    enum:
                    - SYSTEM_COMPONENTS
                    - WORKLOADS
                    - APISERVER
                    - SCHEDULER
                    - CONTROLLER_MANAGER
                    items:
                      type: string
                    type: array
                type: object
              monitoringConfig:
                description: MonitoringConfig defines the monitoring on Cluster.
                properties:
                  enable:
                    description: Enable is whether enable monitoring to cluster or
                      not.
                    type: boolean
                  enableComponents:
                    description: EnableComponents select components to collect metrics.
                      An empty set would disable all monitoring. System metric is
                      the minimum required component for enabling metric collection.
                      Only honored when enabled=true.
                    enum:
                    - SYSTEM_COMPONENTS
                    - APISERVER
                    - SCHEDULER
                    - CONTROLLER_MANAGER
                    items:
                      type: string
                    type: array
                  enableManagedPrometheus:
                    description: EnableManagedPrometheus Enable Google Cloud Managed
                      Service for Prometheus in the cluster.
                    type: boolean
                type: object
              project:
                description: Project is the name of the project to deploy the cluster
                  to.
                type: string
              releaseChannel:
                description: ReleaseChannel represents the release channel of the
                  GKE cluster.
                enum:
                - rapid
                - regular
                - stable
                type: string
            required:
            - location
            - project
            type: object
          status:
            description: GCPManagedControlPlaneStatus defines the observed state of
              GCPManagedControlPlane.
            properties:
              conditions:
                description: Conditions specifies the conditions for the managed control
                  plane
                items:
                  description: Condition defines an observation of a Cluster API resource
                    operational state.
                  properties:
                    lastTransitionTime:
                      description: Last time the condition transitioned from one status
                        to another. This should be when the underlying condition changed.
                        If that is not known, then using the time when the API field
                        changed is acceptable.
                      format: date-time
                      type: string
                    message:
                      description: A human readable message indicating details about
                        the transition. This field may be empty.
                      type: string
                    reason:
                      description: The reason for the condition's last transition
                        in CamelCase. The specific API may choose whether or not this
                        field is considered a guaranteed API. This field may not be
                        empty.
                      type: string
                    severity:
                      description: Severity provides an explicit classification of
                        Reason code, so the users or machines can immediately understand
                        the current situation and act accordingly. The Severity field
                        MUST be set only when Status=False.
                      type: string
                    status:
                      description: Status of the condition, one of True, False, Unknown.
                      type: string
                    type:
                      description: Type of condition in CamelCase or in foo.example.com/CamelCase.
                        Many .condition.type values are consistent across resources
                        like Available, but because arbitrary conditions can be useful
                        (see .node.status.conditions), the ability to deconflict is
                        important.
                      type: string
                  required:
                  - lastTransitionTime
                  - status
                  - type
                  type: object
                type: array
              currentVersion:
                description: CurrentVersion shows the current version of the GKE control
                  plane.
                type: string
              initialized:
                description: Initialized is true when the control plane is available
                  for initial contact. This may occur before the control plane is
                  fully ready.
                type: boolean
              ready:
                default: false
                description: Ready denotes that the GCPManagedControlPlane API Server
                  is ready to receive requests.
                type: boolean
            required:
            - ready
            type: object
        type: object
    served: true
    storage: true
    subresources:
      status: {}
